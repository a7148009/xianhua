<view class="container">
  <!-- èŒä½æ ‡é¢˜åŒºåŸŸ -->
  <view class="job-header">
    <text class="job-title">{{jobData.title}}</text>
    <text class="job-salary">{{jobData.salary || 'é¢è®®'}}</text>
    <view class="job-meta">
      <text class="location-icon">ğŸ“</text>
      <text class="meta-item">æ˜†æ˜</text>
      <text class="meta-separator"> Â· </text>
      <text class="meta-item">{{jobData.area || 'äº”ååŒº'}}</text>
      <block wx:for="{{jobData.categories}}" wx:key="index" wx:for-item="category">
        <text class="meta-separator"> Â· </text>
        <text class="meta-item">{{category}}</text>
      </block>
    </view>
  </view>

  <!-- æ‹›è˜äººå‘˜ä¿¡æ¯ -->
  <view class="recruiter-section">
    <view class="recruiter-info">
      <view class="recruiter-details">
        <text class="company-name-bold">{{jobData.company_name || 'å…¬å¸åç§°'}}</text>
        <text class="company-meta">æ€»é˜…è¯»{{totalViews}}æ¬¡ | ä»Šæ—¥é˜…è¯»{{todayViews}}æ¬¡</text>
      </view>
      <view class="recruiter-tag">
        <text class="tag-text">æ˜†æ˜Â·{{jobData.area || 'äº”ååŒº'}}</text>
      </view>
    </view>
  </view>

  <!-- èŒä½è¯¦æƒ… -->
  <view class="job-detail-section">
    <view class="job-tags">
      <text wx:for="{{jobData.tags}}" wx:key="index" wx:for-item="tag" class="job-tag">{{tag.name}}</text>
    </view>

    <!-- å›¾ç‰‡å±•ç¤º -->
    <view wx:if="{{jobData.images && jobData.images.length > 0}}" class="job-images">
      <swiper class="image-swiper" indicator-dots indicator-color="rgba(255,255,255,0.5)" indicator-active-color="#007aff">
        <block wx:for="{{jobData.images}}" wx:key="index">
          <swiper-item>
            <image class="swiper-image" src="{{item}}" mode="aspectFill" />
          </swiper-item>
        </block>
      </swiper>
    </view>

    <text class="job-description-title">ã€{{workContentLabel}}ã€‘</text>
    <view class="job-description">
      <view wx:for="{{jobData.descriptionArray}}" wx:key="index" class="desc-item-wrapper">
        <text class="desc-item">{{item}}</text>
      </view>
    </view>
  </view>

  <!-- è´¹ç”¨å…¬ç¤º -->
  <view class="fee-disclosure-section">
    <view class="fee-header">
      <view class="fee-icon">ğŸ›¡ï¸</view>
      <text class="fee-title">{{feeNoticeText}}</text>
    </view>
    <view class="fee-questions">
      <text wx:for="{{safetyModeLines}}" wx:key="index" class="fee-question">{{item}}</text>
    </view>
  </view>

  <!-- å…¬å¸ä¿¡æ¯ -->
  <view class="company-section">
    <view class="company-header">
      <view class="company-logo">
        <image wx:if="{{jobData.company_logo}}" class="logo-img" src="{{jobData.company_logo}}" mode="aspectFill" />
        <view wx:else class="logo-img-placeholder">ğŸ¢</view>
      </view>
      <view class="company-info">
        <text class="company-name">{{jobData.company_name || 'å…¬å¸åç§°'}}</text>
        <text class="company-scale">{{categoriesText || 'æš‚æ— åˆ†ç±»'}}</text>
      </view>
    </view>

    <!-- åœ°å›¾åŒºåŸŸ -->
    <view class="map-container">
      <map
        class="map"
        longitude="{{mapInfo.longitude}}"
        latitude="{{mapInfo.latitude}}"
        scale="15"
        show-location="{{false}}"
        bindtap="openLocation">
      </map>
      <!-- ç»¿è‰²æ°´æ»´æ ‡è®°ï¼ˆæ˜¾ç¤ºå•†å®¶ä½ç½®ï¼‰ -->
      <view class="map-center-marker">
        <view class="center-marker-icon"></view>
        <view class="center-marker-shadow"></view>
      </view>
      <view class="map-control">
        <text class="map-btn" bindtap="openLocation">ğŸ—ºï¸ è…¾è®¯åœ°å›¾</text>
      </view>
    </view>
    <text class="company-address">{{jobData.formattedAddress || jobData.address || 'æ˜†æ˜Â·äº”ååŒº'}}</text>
  </view>

  <!-- å®‰å…¨ä¿éšœ -->
  <view class="safety-section">
    <view class="safety-header">
      <view class="safety-icon">ğŸ›¡ï¸</view>
      <text class="safety-title">{{safetyTitleText}}</text>
    </view>
    <text class="safety-content">{{warningText}}</text>
  </view>
</view>

<!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
<view class="bottom-actions">
  <button class="action-btn share-btn" open-type="share">
    <text class="btn-icon">ğŸ’¬</text>
    <text class="btn-text">åˆ†äº«</text>
  </button>
  <view class="action-btn chat-btn" bindtap="copyWechat">
    <text class="btn-icon">ğŸ’¬</text>
    <text class="btn-text">å¤åˆ¶å¾®ä¿¡</text>
  </view>
  <view class="action-btn call-btn" bindtap="makeCall">
    <text class="btn-icon">ğŸ“</text>
    <text class="btn-text">æ‹¨æ‰“ç”µè¯</text>
  </view>
</view>
