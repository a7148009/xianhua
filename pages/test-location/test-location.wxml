<view class="container">
  <view class="header">
    <text class="title">ğŸ“ ä½ç½®ä¿¡æ¯è°ƒè¯•å·¥å…·</text>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="button-group">
    <button class="debug-btn" bindtap="getCurrentLocation" type="primary">
      è·å–å½“å‰ä½ç½®
    </button>
    <button class="debug-btn" bindtap="testReverseGeocode" type="default">
      æµ‹è¯•é€†åœ°å€è§£æ
    </button>
    <button class="debug-btn" bindtap="showFullAddressInfo" type="default">
      æ˜¾ç¤ºå®Œæ•´åœ°å€ä¿¡æ¯
    </button>
    <button class="debug-btn" bindtap="addMoreInfoData" style="background-color: #52c41a; color: white;">
      ğŸ“‹ æ·»åŠ æ›´å¤šé¡µé¢æ•°æ®
    </button>
    <button class="debug-btn" bindtap="clearLog" type="warn">
      æ¸…ç©ºæ—¥å¿—
    </button>
  </view>

  <!-- ä½ç½®ä¿¡æ¯å±•ç¤º -->
  <view class="info-section" wx:if="{{locationInfo}}">
    <view class="section-title">ğŸ“Œ ä½ç½®ä¿¡æ¯</view>
    <view class="info-item">
      <text class="label">ç»åº¦ï¼š</text>
      <text class="value">{{locationInfo.longitude}}</text>
    </view>
    <view class="info-item">
      <text class="label">çº¬åº¦ï¼š</text>
      <text class="value">{{locationInfo.latitude}}</text>
    </view>
    <view class="info-item">
      <text class="label">ç²¾åº¦ï¼š</text>
      <text class="value">{{locationInfo.accuracy}} ç±³</text>
    </view>

    <!-- ç²¾åº¦æç¤º -->
    <view class="accuracy-tip" wx:if="{{locationInfo.accuracy > 50}}">
      <text class="tip-icon">âš ï¸</text>
      <text class="tip-text">å®šä½ç²¾åº¦è¾ƒä½ï¼ˆ>50ç±³ï¼‰ï¼Œå»ºè®®ï¼š\n1. ç§»åˆ°å®¤å¤–ç©ºæ—·å¤„\n2. ç¡®ä¿GPSå·²å¼€å¯\n3. ç­‰å¾…å‡ ç§’åé‡æ–°è·å–</text>
    </view>
    <view class="accuracy-tip success" wx:elif="{{locationInfo.accuracy <= 20}}">
      <text class="tip-icon">âœ…</text>
      <text class="tip-text">å®šä½ç²¾åº¦è‰¯å¥½ï¼ˆâ‰¤20ç±³ï¼‰</text>
    </view>
    <view class="accuracy-tip warning" wx:else>
      <text class="tip-icon">âš¡</text>
      <text class="tip-text">å®šä½ç²¾åº¦ä¸€èˆ¬ï¼ˆ20-50ç±³ï¼‰</text>
    </view>

    <view class="info-item">
      <text class="label">é«˜åº¦ï¼š</text>
      <text class="value">{{locationInfo.altitude}} ç±³</text>
    </view>
    <view class="info-item">
      <text class="label">é€Ÿåº¦ï¼š</text>
      <text class="value">{{locationInfo.speed}} m/s</text>
    </view>
  </view>

  <!-- è…¾è®¯åœ°å›¾APIè¿”å›æ•°æ® -->
  <view class="info-section" wx:if="{{addressData}}">
    <view class="section-title">ğŸ—ºï¸ è…¾è®¯åœ°å›¾APIè¿”å›æ•°æ®</view>

    <!-- æ ‡å‡†åœ°å€ -->
    <view class="info-group">
      <text class="group-title">æ ‡å‡†åœ°å€ï¼š</text>
      <text class="value full-width">{{addressData.address}}</text>
    </view>

    <!-- æ ¼å¼åŒ–åœ°å€ -->
    <view class="info-group">
      <text class="group-title">æ ¼å¼åŒ–åœ°å€ï¼š</text>
      <text class="value full-width">{{addressData.formatted_addresses.recommend}}</text>
    </view>

    <!-- åœ°å€ç»„ä»¶ -->
    <view class="info-group">
      <text class="group-title">åœ°å€ç»„ä»¶ï¼š</text>
      <view class="info-item">
        <text class="label">çœï¼š</text>
        <text class="value">{{addressData.address_component.province}}</text>
      </view>
      <view class="info-item">
        <text class="label">å¸‚ï¼š</text>
        <text class="value">{{addressData.address_component.city}}</text>
      </view>
      <view class="info-item">
        <text class="label">åŒºï¼š</text>
        <text class="value">{{addressData.address_component.district}}</text>
      </view>
      <view class="info-item">
        <text class="label">è¡—é“ï¼š</text>
        <text class="value">{{addressData.address_component.street}}</text>
      </view>
      <view class="info-item">
        <text class="label">è¡—é“å·ï¼š</text>
        <text class="value">{{addressData.address_component.street_number}}</text>
      </view>
    </view>

    <!-- POIä¿¡æ¯ -->
    <view class="info-group" wx:if="{{addressData.pois && addressData.pois.length > 0}}">
      <text class="group-title">é™„è¿‘POIï¼ˆå‰3ä¸ªï¼‰ï¼š</text>
      <view class="poi-item" wx:for="{{addressData.pois}}" wx:key="id" wx:if="{{index < 3}}">
        <text class="poi-name">{{item.title}}</text>
        <text class="poi-address">{{item.address}}</text>
        <text class="poi-distance">è·ç¦»: {{item._distance}}ç±³</text>
      </view>
    </view>
  </view>

  <!-- å®Œæ•´JSONæ•°æ® -->
  <view class="info-section" wx:if="{{rawData}}">
    <view class="section-title">ğŸ“‹ å®Œæ•´JSONæ•°æ®</view>
    <view class="json-box">
      <text class="json-text" user-select="true">{{rawData}}</text>
    </view>
  </view>

  <!-- æ—¥å¿—è¾“å‡º -->
  <view class="info-section" wx:if="{{logs.length > 0}}">
    <view class="section-title">ğŸ“ è°ƒè¯•æ—¥å¿—</view>
    <view class="log-box">
      <view class="log-item" wx:for="{{logs}}" wx:key="index">
        <text class="log-time">{{item.time}}</text>
        <text class="log-text" user-select="true">{{item.text}}</text>
      </view>
    </view>
  </view>
</view>
