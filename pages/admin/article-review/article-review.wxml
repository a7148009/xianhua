<wxs module="utils">
  var formatDate = function(date) {
    if (!date) return '';
    var d = getDate(date);
    var year = d.getFullYear();
    var month = d.getMonth() + 1;
    var day = d.getDate();

    month = month < 10 ? '0' + month : month;
    day = day < 10 ? '0' + day : day;

    return year + '-' + month + '-' + day;
  }

  module.exports = {
    formatDate: formatDate
  };
</wxs>

<view class="container">
  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-text">加载中...</view>
  </view>

  <!-- 文章内容 - 橙色系风格 -->
  <view wx:if="{{!loading && article}}" class="content-wrapper">
    <!-- 文章卡片 -->
    <view class="info-item">
      <!-- 标题行 -->
      <view class="info-title">
        <text class="info-number">{{article.default_sort || '待定'}}</text>
        <text class="info-name">{{article.title}}</text>
      </view>

      <!-- 文章内容 -->
      <view class="info-detail">{{article.content}}</view>

      <!-- 底部信息 -->
      <view class="info-detail" style="margin-top: 20rpx; color: #999;">
        发布者: {{article.author_info.nickName}} · {{utils.formatDate(article.create_time)}}
      </view>
    </view>

    <!-- 审核操作按钮 -->
    <view class="review-actions">
      <button class="action-btn approve-btn" bindtap="approveArticle">
        ✓ 通过审核
      </button>
      <button class="action-btn reject-btn" bindtap="rejectArticle">
        × 拒绝审核
      </button>
    </view>
  </view>
</view>
